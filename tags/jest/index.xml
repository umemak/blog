<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Jest on umemak</title><link>https://umemak.github.io/blog/tags/jest/</link><description>Recent content in Jest on umemak</description><generator>Hugo</generator><language>ja-jp</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Tue, 03 May 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://umemak.github.io/blog/tags/jest/index.xml" rel="self" type="application/rss+xml"/><item><title>Jest„ÅÆÂ∞éÂÖ•</title><link>https://umemak.github.io/blog/posts/2022/05/03_jest/</link><pubDate>Tue, 03 May 2022 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2022/05/03_jest/</guid><description>&lt;p>„Éñ„É©„Ç¶„Ç∂„Åã„Çâ„ÅÆÂãï‰ΩúÁ¢∫Ë™ç„ÅØ„ÅÑ„Å£„Åü„ÇìÁΩÆ„ÅÑ„Å¶„Åä„ÅÑ„Å¶„ÄÅ„Ç≥„Éû„É≥„Éâ„É©„Ç§„É≥ÂÆüË°å„ÅßÂãï„Åè„ÇÇ„ÅÆ„ÇíÁõÆÊåá„Åô„ÄÇ&lt;/p>
&lt;p>„Å©„ÅÜ„Åõ„Å™„ÇâËá™Âãï„ÉÜ„Çπ„Éà„ÇÇÂãï„Åã„Åó„Å™„Åå„Çâ„ÇÑ„Å£„Å¶„ÅÑ„Åç„Åü„ÅÑ„ÄÇ&lt;/p>
&lt;p>JavaScript„ÅÆ„ÉÜ„Çπ„Éà„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ„ÅØ„ÄÅ&lt;a href="https://jestjs.io/ja/">Jest ¬∑ üÉè Delightful JavaScript Testing&lt;/a>„Åå‰∏ªÊµÅ„Çâ„Åó„ÅÑ„ÅÆ„Åß„ÄÅ„Åù„Çå„Å´‰πó„Å£„Åã„Çã„ÄÇ&lt;/p>
&lt;p>&lt;a href="https://sterfield.co.jp/blog/development/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0/typescript%E3%81%A7%E3%81%AE%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9jest/">Typescript„Åß„ÅÆÂçò‰Ωì„ÉÜ„Çπ„Éà„ÅÆÊõ∏„ÅçÊñπ(Jest) | „Çπ„Çø„Éº„Éï„Ç£„Éº„É´„ÉâÊ†™Âºè‰ºöÁ§æ&lt;/a>„ÇíË¶ã„Å™„Åå„Çâ„Ç§„É≥„Çπ„Éà„Éº„É´„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ npm install --save-dev jest typescript ts-jest @types/jest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ npx ts-jest config:init
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ code jest.config.js
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ code package.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ npm run test
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ts-jest&lt;span style="color:#f92672">[&lt;/span>versions&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#f92672">(&lt;/span>WARN&lt;span style="color:#f92672">)&lt;/span> Version 28.0.3 of jest installed has not been tested with ts-jest. If you&lt;span style="color:#960050;background-color:#1e0010">&amp;#39;&lt;/span>re experiencing issues, consider using a supported version &lt;span style="color:#f92672">(&lt;/span>&amp;gt;&lt;span style="color:#f92672">=&lt;/span>27.0.0 &amp;lt;28.0.0-0&lt;span style="color:#f92672">)&lt;/span>. Please &lt;span style="color:#66d9ef">do&lt;/span> not report issues in ts-jest &lt;span style="color:#66d9ef">if&lt;/span> you are using unsupported versions.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ts-jest&lt;span style="color:#f92672">[&lt;/span>config&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#f92672">(&lt;/span>WARN&lt;span style="color:#f92672">)&lt;/span> message TS151001: If you have issues related to imports, you should consider setting &lt;span style="color:#e6db74">`&lt;/span>esModuleInterop&lt;span style="color:#e6db74">`&lt;/span> to &lt;span style="color:#e6db74">`&lt;/span>true&lt;span style="color:#e6db74">`&lt;/span> in your TypeScript configuration file &lt;span style="color:#f92672">(&lt;/span>usually &lt;span style="color:#e6db74">`&lt;/span>tsconfig.json&lt;span style="color:#e6db74">`&lt;/span>&lt;span style="color:#f92672">)&lt;/span>. See https://blogs.msdn.microsoft.com/typescript/2018/01/31/announcing-typescript-2-7/#easier-ecmascript-module-interoperability &lt;span style="color:#66d9ef">for&lt;/span> more information.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>jest„Å®ts-jest„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Åå‰∏ç‰∏ÄËá¥„Çâ„Åó„ÅÑ„ÄÇ&lt;/p></description></item><item><title>rewire„Åßjest</title><link>https://umemak.github.io/blog/posts/2022/05/03_rewire/</link><pubDate>Tue, 03 May 2022 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2022/05/03_rewire/</guid><description>&lt;p>„ÉÜ„Çπ„Éà„ÅÆ„Åü„ÇÅ„Å´Èñ¢Êï∞export„Åó„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑ„ÅÆ„ÄÅ„ÉÅ„Éß„ÉÉ„ÉàÊ∞óÊåÅ„Å°ÊÇ™„ÅÑ„ÅÆ„Åß„ÄÅËß£Ê±∫Á≠ñ„ÇíÊé¢„Å£„Å¶„Åø„Çã„ÄÇ&lt;/p>
&lt;p>&lt;a href="https://github.com/jhnns/rewire">jhnns/rewire: Easy monkey-patching for node.js unit tests&lt;/a>„Åå‰∏ÄËà¨ÁöÑ„Çâ„Åó„ÅÑ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ npm install -D rewire @types/rewire
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>„ÉÜ„Çπ„Éà„Ç≥„Éº„Éâ„ÅÆimport„Çí‰øÆÊ≠£&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ts" data-lang="ts">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">import&lt;/span> &lt;span style="color:#a6e22e">rewire&lt;/span> &lt;span style="color:#66d9ef">from&lt;/span> &lt;span style="color:#e6db74">&amp;#39;rewire&amp;#39;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">__local__&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">rewire&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;./mdmml.ts&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">atoi&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">__local__&lt;/span>.&lt;span style="color:#a6e22e">__get__&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;atoi&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>„ÉÜ„Çπ„ÉàÂÆüË°å&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ npm test
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;gt; mdmml_js@1.0.0 test
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;gt; jest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FAIL src/mdmml.test.ts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ‚óè Test suite failed to run
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> /home/umemak/workspace/mdmml_js/src/mdmml.ts:8
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Tracks: Track&lt;span style="color:#f92672">[]&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#f92672">[]&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> SyntaxError: Unexpected identifier
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> at Object.load &lt;span style="color:#f92672">(&lt;/span>node_modules/rewire/lib/moduleEnv.js:57:18&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> at internalRewire &lt;span style="color:#f92672">(&lt;/span>node_modules/rewire/lib/rewire.js:49:15&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> at rewire &lt;span style="color:#f92672">(&lt;/span>node_modules/rewire/lib/index.js:11:12&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Test Suites: &lt;span style="color:#ae81ff">1&lt;/span> failed, &lt;span style="color:#ae81ff">1&lt;/span> total
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Tests: &lt;span style="color:#ae81ff">0&lt;/span> total
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Snapshots: &lt;span style="color:#ae81ff">0&lt;/span> total
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Time: 1.01 s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Ran all test suites.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Èñ¢‰øÇ„Å™„ÅÑ„Å®„Åì„Çç„Åß„Ç®„É©„Éº„Å´„Å™„Çã„Çà„ÅÜ„Å´„Å™„Å£„Å¶„Åó„Åæ„Å£„Åü„ÄÇ„ÄÇ&lt;/p></description></item></channel></rss>