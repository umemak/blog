<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Wikijs on umemak</title><link>https://umemak.github.io/blog/tags/wikijs/</link><description>Recent content in Wikijs on umemak</description><generator>Hugo</generator><language>ja-jp</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Mon, 25 May 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://umemak.github.io/blog/tags/wikijs/index.xml" rel="self" type="application/rss+xml"/><item><title>nginxで80番ポートの向き先を変更する</title><link>https://umemak.github.io/blog/posts/2020/05/25_nginx/</link><pubDate>Mon, 25 May 2020 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2020/05/25_nginx/</guid><description>&lt;p>Wiki.jsをservice化したときに、nobodyユーザーだと80番ポートでlistenできないので、Wiki（node.js）はデフォルトの3000番に戻して、nginxでプロキシすることにした。&lt;/p>
&lt;p>&lt;a href="https://docs.requarks.io/install/linux">https://docs.requarks.io/install/linux&lt;/a> の&lt;code>Run as service&lt;/code>をやりたかった。
ホームディレクトリに展開していたwikiを/var/にmvして、sqliteのデータファイルのパスも変更、ファイルのパーミッションをまとめてnobodyに変更。&lt;/p></description></item><item><title>Wiki.jsを試す</title><link>https://umemak.github.io/blog/posts/2020/05/24_wikijs/</link><pubDate>Sun, 24 May 2020 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2020/05/24_wikijs/</guid><description>&lt;p>GCP無料枠でWikiを動かしてみるシリーズ。
今回はWiki.js。&lt;/p>
&lt;p>docker-composeを使う方法も用意されているが、軽量優先で通常インストールのほうで。&lt;/p>
&lt;p>&lt;a href="https://docs.requarks.io/install/linux">https://docs.requarks.io/install/linux&lt;/a>&lt;/p>
&lt;p>&lt;code>config.yml&lt;/code>の編集では、ポートを80に、DBをsqliteに変更した。&lt;/p>
&lt;pre tabindex="0">&lt;code>$ sudo apt install wget nodejs npm
$ wget https://github.com/Requarks/wiki/releases/download/2.3.81/wiki-js.tar.gz
$ mkdir wiki
$ tar xzf wiki-js.tar.gz -C ./wiki
$ cd ./wiki
$ mv config.sample.yml config.yml
$ nano config.yml
$ npm rebuild sqlite3
$ sudo node server
&lt;/code>&lt;/pre>&lt;p>動いた・・・！&lt;/p></description></item></channel></rss>