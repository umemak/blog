<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Python on umemak</title><link>https://umemak.github.io/blog/tags/python/</link><description>Recent content in Python on umemak</description><generator>Hugo</generator><language>ja-jp</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Mon, 05 Dec 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://umemak.github.io/blog/tags/python/index.xml" rel="self" type="application/rss+xml"/><item><title>Cython入門</title><link>https://umemak.github.io/blog/posts/2022/12/05_cython/</link><pubDate>Mon, 05 Dec 2022 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2022/12/05_cython/</guid><description>&lt;p>&lt;a href="https://zenn.dev/timoneko/articles/805919ea14427c">CythonによるPythonの高速化!!&lt;/a>をやってみた。&lt;/p>
&lt;p>書かれているようにエラーが出たので、&lt;a href="https://visualstudio.microsoft.com/ja/visual-cpp-build-tools/">Microsoft C++ Build Tools - Visual Studio&lt;/a>でBuild Toolsのダウンロードをしてインストール。&lt;/p>
&lt;p>C++によるデスクトップ開発を選択してインストール。1.7GBもダウンロードするのか。。&lt;/p>
&lt;p>で、インストールが終わってコンパイルして実行&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ time python test.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">100000000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>real 0m5.251s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>user 0m0.000s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sys 0m0.000s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>cdefを加える&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ time python test.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">100000000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>real 0m0.214s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>user 0m0.000s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sys 0m0.015s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>すごい。&lt;/p></description></item><item><title>Cython</title><link>https://umemak.github.io/blog/posts/2022/12/02_cython/</link><pubDate>Fri, 02 Dec 2022 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2022/12/02_cython/</guid><description>&lt;p>&lt;a href="https://gihyo.jp/magazine/SD/archive/2022/202212">Software Design 2022年12月号｜技術評論社&lt;/a>で、
&lt;a href="https://cython.org/">Cython: C-Extensions for Python&lt;/a>というものを知った。&lt;/p>
&lt;p>ちょっとした変更でかなり高速化できるようなので、いつか試してみたい。&lt;/p></description></item><item><title>Pythonで非同期処理</title><link>https://umemak.github.io/blog/posts/2022/10/22_python_async/</link><pubDate>Sat, 22 Oct 2022 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2022/10/22_python_async/</guid><description>&lt;p>今の作りだと、翻訳や英語再生の間、待たされる気がするので、翻訳APIから先は非同期で実行できないか調べてみた。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://cpoint-lab.co.jp/article/202208/23186/">【Python】同期処理をラッピングして非同期処理にする方法 – 株式会社シーポイントラボ ｜ 浜松のシステム・RTK-GNSS開発&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ja.stackoverflow.com/questions/70119/asyncio%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E7%B0%A1%E5%8D%98%E3%81%AA%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E3%81%A7%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%8C%E3%81%A7%E3%82%8B">python - asyncioを使った簡単なプログラムでエラーがでる。 - スタック・オーバーフロー&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://qiita.com/maueki/items/8f1e190681682ea11c98">python3 の async/awaitを理解する - Qiita&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://dev.classmethod.jp/articles/python-asyncio/">asyncioでPythonの非同期処理を書いてみる | DevelopersIO&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>asyncio&lt;/code>をimportして、関数定義に&lt;code>async&lt;/code>つけて、メイン処理は&lt;code>asyncio.run&lt;/code>で呼び出し、非同期処理を&lt;code>await&lt;/code>で呼び出せばいけるっぽい。&lt;/p></description></item><item><title>pyttsx3</title><link>https://umemak.github.io/blog/posts/2022/10/21_pyttsx3/</link><pubDate>Fri, 21 Oct 2022 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2022/10/21_pyttsx3/</guid><description>&lt;p>日本語音声→日本語文字列→英語文字列 ができたので、英語文字列→英語音声 も追加してみたくなって、やってみた。&lt;/p>
&lt;p>Pythonでオフラインでできるものをググって見つかったのが、&lt;a href="https://github.com/nateshmbhat/pyttsx3">nateshmbhat/pyttsx3: Offline Text To Speech synthesis for python&lt;/a>。&lt;/p>
&lt;p>これもREADMEに書いてあるように書くだけで実装できた。&lt;/p>
&lt;p>あとは翻訳の部分をオフラインでできれば、完全オフライン化ができるのでは。と思い検索したら、先駆者がいた。&lt;/p></description></item><item><title>Vosk使ってみる2</title><link>https://umemak.github.io/blog/posts/2022/10/20_vosk_python/</link><pubDate>Thu, 20 Oct 2022 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2022/10/20_vosk_python/</guid><description>&lt;p>node.jsで使うのあきらめて、Pythonで試してみた。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/alphacep/vosk-api/blob/master/python/example/test_microphone.py">vosk-api/test_microphone.py at master · alphacep/vosk-api&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>あっさり使えた。&lt;/p>
&lt;p>ついでに、&lt;a href="https://qiita.com/tanabee/items/c79c5c28ba0537112922">3 分で作る無料の翻訳 API with Google Apps Script - Qiita&lt;/a>を参考に、日本語→英語翻訳APIを立てて連携してみた。&lt;/p>
&lt;p>Pythonの文字列操作するのにちょっと手間取ったけど、意外とすんなりリアルタイム音声認識＆翻訳が出来上がってびっくりした。&lt;/p></description></item><item><title>MLTファイルを作る2</title><link>https://umemak.github.io/blog/posts/2022/08/12_mlt/</link><pubDate>Fri, 12 Aug 2022 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2022/08/12_mlt/</guid><description>&lt;p>silencedetectがなんか思ったのと違う感じで、代わりに&lt;a href="https://qiita.com/igapon1/items/3faa83fc8af1543bc672">Pythonとffmpegで動画の無音部分をカットする - Qiita&lt;/a>にあるPythonのプログラムの無音検出部分を使ってみた。&lt;/p>
&lt;p>Goでも&lt;a href="https://github.com/mkb218/gosndfile">mkb218/gosndfile: Go bindings for libsndfile&lt;/a>を使ったらできそうだけど、importしただけでは動かなかったので今後の課題にしたい。&lt;/p></description></item><item><title>Pythonの文法を覚えた人がもっと理解を深めるための本</title><link>https://umemak.github.io/blog/posts/2019/09/10_python_book/</link><pubDate>Tue, 10 Sep 2019 00:00:00 +0000</pubDate><guid>https://umemak.github.io/blog/posts/2019/09/10_python_book/</guid><description>&lt;p>Prime Readingに入っていたので、読みつつ例文を写経して動かしてみた。&lt;/p>
&lt;p>PythonはLambdaで通知をSlackに飛ばすためにちょっと触ってみた程度。&lt;/p>
&lt;p>&lt;a href="https://www.amazon.co.jp/dp/B078SBH9Y7">Pythonの文法を覚えた人がもっと理解を深めるための本 Kindle版&lt;/a>&lt;/p>
&lt;p>しばらくRubyをやっていたせいか、割とすんなり理解することができたように思う。&lt;/p>
&lt;p>そう考えると、Rubyがオブジェクト指向を身につけるには良いというのも納得。&lt;/p></description></item></channel></rss>