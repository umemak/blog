---
title: "開いたままのファイルを削除したらどうなるか"
date: "2022-03-30"
tags: ["docker"]

---

ホストがマウントしたディレクトリをマウントしたコンテナでプロセス1で開いてクローズせずにプロセス2で削除したあとその他のプロセスからファイルはどう見えるか。

A. ファイルは削除されディレクトリにもリストされない

B. ファイルは削除できない

C. ファイルは削除されアクセスできないがディレクトリにリストされたまま

プロセス1がつかんだままなので削除できないかと思いきや、削除できてしまう。

しかもlsしたら表示されるという中途半端な状態で。

という現象があったのだけど、環境により挙動が変わるようで。。
